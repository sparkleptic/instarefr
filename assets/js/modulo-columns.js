!function(a){"use strict";function b(a){var b=a.create("moduloColumns");b.prototype._resetLayout=function(){this.getColumnWidth(),this._getMeasurement("gutter","outerHeight"),this.getSize();var a=this.options.gutter||0,b=this.size.innerWidth;this.columnWidth+=a;var c=this.cols=Math.floor((b+a)/this.columnWidth)||1;for(this.columnHeights=[];c--;)this.columnHeights.push(0);this.currentColumn=0},b.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth,c=a.size.outerHeight,d=Math.min(this.cols,Math.ceil(b/this.columnWidth));this.currentColumn+d>this.cols&&(this.currentColumn=0);for(var e=0,f=0;f<d;f++)e=Math.max(e,this.columnHeights[this.currentColumn+f]);var g=e+c;for(f=0;f<d;f++)this.columnHeights[this.currentColumn+f]=g;var h={x:this.currentColumn*this.columnWidth,y:e};return this.currentColumn+=d,this.currentColumn>this.cols&&(this.currentColumn=0),h},b.prototype._getContainerSize=function(){return{height:Math.max.apply(Math,this.columnHeights)}}}"function"==typeof define&&define.amd?define(["isotope/js/layout-mode"],b):b(a.Isotope.LayoutMode)}(window);